// EncryptedCredentials Model Schema
// This is the source of truth for the EncryptedCredentials model
// Updated to link to UserProviderService instead of ProviderConfig
// Run: npm run prisma:combine to update schema.prisma

model EncryptedCredentials {
  id                String   @id @default(cuid())
  userProviderServiceId String   @unique  // Reference to UserProviderService (instead of ProviderConfig)
  encryptedEmail    String
  encryptedPassword String
  iv                String
  tag               String
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  userProviderService UserProviderService @relation(fields: [userProviderServiceId], references: [id], onDelete: Cascade)
}
